<html>

<head>
    <title>Mandango - The Macho Movie Ticket Finder</title>
    <script type="text/javascript">
    //建立隨機二維陣列
    var seats = [];
    for (var i = 0; i < 4; i++) {
        seats[i] = [];
        for (var j = 0; j < 9; j++) {
            //隨機產生true/false   
            seats[i][j] = Math.round(Math.random());
        }
    }



    //建立4*9=36的椅子圖
    function initSeats() {
        for (var row = 0; row < seats.length; row++) {
            for (var col = 0; col < seats[row].length; col++) {
                var number = (row * seats[row].length + col);
                if (seats[row][col]) {
                    document.getElementById("seat" + number).src = "seat_avail.png";
                } else {
                    document.getElementById("seat" + number).src = "seat_unavail.png";
                }
            }
        }
    }

    //找椅子
    function findSeats() {
        var selectSeat = false;
        for (var row = 0; row < seats.length; row++) {
            if (selectSeat) break;
            for (var col = 0; col < seats[row].length; col++) {
                if (seats[row][col] && seats[row][col + 1] && seats[row][col + 2]) {
                    var number = (row * seats[row].length + col);

                    var accept = confirm("Row= " + (row + 1) + ",Col= " + (col + 1) + "are available.Accept?");
                    if (accept) {
                        document.getElementById("seat" + number).src = "seat_select.png";
                        document.getElementById("seat" + (number + 1)).src = "seat_select.png";
                        document.getElementById("seat" + (number + 2)).src = "seat_select.png";
                        selectSeat = true;
                        break;
                    }
                }
            }
        }
    }
    </script>
</head>

<body onload="initSeats();">
    <div style="margin-top:25px; text-align:center">
        <img id="seat0" src="" alt="" />
        <img id="seat1" src="" alt="" />
        <img id="seat2" src="" alt="" />
        <img id="seat3" src="" alt="" />
        <img id="seat4" src="" alt="" />
        <img id="seat5" src="" alt="" />
        <img id="seat6" src="" alt="" />
        <img id="seat7" src="" alt="" />
        <img id="seat8" src="" alt="" />
        <br />
        <img id="seat9" src="" alt="" />
        <img id="seat10" src="" alt="" />
        <img id="seat11" src="" alt="" />
        <img id="seat12" src="" alt="" />
        <img id="seat13" src="" alt="" />
        <img id="seat14" src="" alt="" />
        <img id="seat15" src="" alt="" />
        <img id="seat16" src="" alt="" />
        <img id="seat17" src="" alt="" />
        <br />
        <img id="seat18" src="" alt="" />
        <img id="seat19" src="" alt="" />
        <img id="seat20" src="" alt="" />
        <img id="seat21" src="" alt="" />
        <img id="seat22" src="" alt="" />
        <img id="seat23" src="" alt="" />
        <img id="seat24" src="" alt="" />
        <img id="seat25" src="" alt="" />
        <img id="seat26" src="" alt="" />
        <br />
        <img id="seat27" src="" alt="" />
        <img id="seat28" src="" alt="" />
        <img id="seat29" src="" alt="" />
        <img id="seat30" src="" alt="" />
        <img id="seat31" src="" alt="" />
        <img id="seat32" src="" alt="" />
        <img id="seat33" src="" alt="" />
        <img id="seat34" src="" alt="" />
        <img id="seat35" src="" alt="" />
        <br />
        <input type="button" id="findseats" value="Find Seats" onclick="findSeats();" />
    </div>
</body>

</html>
